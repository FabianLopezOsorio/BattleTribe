{"remainingRequest":"C:\\Users\\Fabian\\Documents\\proyecto_juego\\cliente_juego\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Fabian\\Documents\\proyecto_juego\\cliente_juego\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Fabian\\Documents\\proyecto_juego\\cliente_juego\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Fabian\\Documents\\proyecto_juego\\cliente_juego\\src\\components\\perfil.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Fabian\\Documents\\proyecto_juego\\cliente_juego\\src\\components\\perfil.vue","mtime":1589976421917},{"path":"C:\\Users\\Fabian\\Documents\\proyecto_juego\\cliente_juego\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570243361899},{"path":"C:\\Users\\Fabian\\Documents\\proyecto_juego\\cliente_juego\\node_modules\\babel-loader\\lib\\index.js","mtime":1570243225297},{"path":"C:\\Users\\Fabian\\Documents\\proyecto_juego\\cliente_juego\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570243361899},{"path":"C:\\Users\\Fabian\\Documents\\proyecto_juego\\cliente_juego\\node_modules\\vue-loader\\lib\\index.js","mtime":1570243382794}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Axios from '@/service/api';\nexport default {\n  data: function data() {\n    return {\n      user: {},\n      warriors: 0,\n      archers: 0,\n      hp_mod: 0,\n      atk_mod: 0,\n      points_spent: 0,\n      msj: \"\"\n    };\n  },\n  computed: {\n    total: function total() {\n      return this.warriors * 10 + this.archers * 10;\n    }\n  },\n  methods: {\n    recruit: function recruit() {\n      var _this = this;\n\n      var money_spent = this.warriors * 10 + this.archers * 10;\n\n      if (money_spent > this.user.money) {\n        this.msj = \"El dinero no alcanza\";\n        setTimeout(function () {\n          _this.msj = \"\";\n        }, 3000);\n      } else {\n        Axios().post(\"post/recruit/\", {\n          user_id: this.user._id,\n          warriors: this.warriors,\n          archers: this.archers,\n          dinero: money_spent\n        }).then(function (docs) {\n          _this.$store.dispatch(\"storage_user\", docs.data);\n\n          _this.user = docs.data;\n          _this.msj = \"Reclutamiento completado\";\n          setTimeout(function () {\n            _this.msj = \"\";\n          }, 3000);\n        });\n      }\n    },\n    upgrade: function upgrade() {\n      var _this2 = this;\n\n      if (this.points_spent != 0) {\n        Axios().post(\"post/upgrade/\", {\n          user_id: this.user._id,\n          hp_mod: this.hp_mod,\n          atk_mod: this.atk_mod,\n          points_spent: this.points_spent\n        }).then(function (docs) {\n          _this2.hp_mod = 0;\n          _this2.atk_mod = 0;\n          _this2.points_spent = 0;\n\n          _this2.$store.dispatch(\"storage_user\", docs.data);\n\n          _this2.user = docs.data;\n        });\n      }\n    },\n    hp_up: function hp_up() {\n      if (this.user.u_point - this.points_spent > 0) {\n        this.hp_mod += 10;\n        this.points_spent++;\n      }\n    },\n    hp_down: function hp_down() {\n      if (this.hp_mod != 0) {\n        this.hp_mod -= 10;\n        this.points_spent--;\n      }\n    },\n    atk_up: function atk_up() {\n      if (this.user.u_point - this.points_spent > 0) {\n        this.atk_mod += 10;\n        this.points_spent++;\n      }\n    },\n    atk_down: function atk_down() {\n      if (this.atk_mod != 0) {\n        this.atk_mod -= 10;\n        this.points_spent--;\n      }\n    }\n  },\n  created: function created() {\n    this.user = this.$store.getters.usuario;\n  }\n};",{"version":3,"sources":["perfil.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<div class=\"perfil\">\r\n    <div class=\"ficha\">\r\n      <img src=\"../assets/town.png\" alt=\"...\" >\r\n      <h4>{{user.name}}</h4>\r\n      <label>Level: {{user.level}}</label><br> \r\n      <label>Exp: {{user.exp}}/{{user.exp_next}}</label> <br> \r\n      <label>Money: {{user.money}}</label> <br> \r\n      <label>Square: {{user.square}}</label> <br> \r\n    </div>\r\n\r\n    <div class=\"ficha\">\r\n      <h2>Recruitmen</h2>\r\n      <label>Warriors: <input type=\"number\" v-model=\"warriors\"></label><br>\r\n      <label>Archers: <input type=\"number\" v-model=\"archers\"></label><br>\r\n      <label>Total: {{total}}</label><br>\r\n      <button @click=\"recruit\" class=\"btn btn-primary\">Recruit</button>\r\n      <label>{{msj}}</label><br>\r\n    </div>\r\n\r\n    <div class=\"ficha\">\r\n      <h2>Upgrade</h2>\r\n      <h4>Points remaining: {{user.u_point-points_spent}}</h4>\r\n      <h4>Soldiers HP + {{user.hp_percent+hp_mod}} % <button @click=\"hp_up\" class=\"btn btn-success\">+</button><button @click=\"hp_down\" class=\"btn btn-danger\"> -</button></h4>\r\n      <h4>Soldiers ATK + {{user.atk_percent+atk_mod}} % <button @click=\"atk_up\" class=\"btn btn-success\">+</button><button @click=\"atk_down\" class=\"btn btn-danger\"> -</button> </h4>\r\n      <button @click=\"upgrade\" class=\"btn btn-primary\">OK</button>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Axios from '@/service/api';\r\nexport default {\r\n    data:function () {\r\n    return{\r\n      user:{},\r\n      warriors:0,\r\n      archers:0,\r\n      hp_mod:0,\r\n      atk_mod:0,\r\n      points_spent:0,\r\n      msj:\"\"\r\n    };\r\n    },\r\n    computed:{\r\n      total:function () {\r\n        return this.warriors*10+this.archers*10\r\n      }\r\n    },\r\n    methods:{\r\n      recruit: function () {\r\n        var money_spent=this.warriors*10+this.archers*10;\r\n        if (money_spent>this.user.money) {\r\n          this.msj=\"El dinero no alcanza\";\r\n          setTimeout(() => {\r\n           this.msj=\"\";\r\n         }, 3000); \r\n        } else {\r\n         \r\n            Axios().post(\"post/recruit/\",{\r\n            user_id:this.user._id,\r\n            warriors:this.warriors,\r\n            archers:this.archers,\r\n            dinero:money_spent\r\n          }).then(docs=>{\r\n         this.$store.dispatch(\"storage_user\",docs.data);\r\n         this.user=docs.data; \r\n         this.msj=\"Reclutamiento completado\"; \r\n         setTimeout(() => {\r\n           this.msj=\"\";\r\n         }, 3000);        \r\n       }) }\r\n      },\r\n      upgrade: function () {\r\n        if (this.points_spent!=0) {\r\n          Axios().post(\"post/upgrade/\",{\r\n            user_id:this.user._id,\r\n            hp_mod:this.hp_mod,\r\n            atk_mod:this.atk_mod,\r\n            points_spent:this.points_spent\r\n          }).then(docs=>{\r\n            this.hp_mod=0;\r\n            this.atk_mod=0;\r\n            this.points_spent=0;\r\n         this.$store.dispatch(\"storage_user\",docs.data);\r\n         this.user=docs.data;         \r\n       })\r\n        }\r\n      },\r\n      hp_up:function () {\r\n        if (this.user.u_point-this.points_spent>0) {\r\n          this.hp_mod+=10;\r\n          this.points_spent++;\r\n        } \r\n      },\r\n      hp_down:function () {\r\n        if (this.hp_mod!=0) {\r\n          this.hp_mod-=10;\r\n          this.points_spent--;\r\n        } \r\n      },\r\n      atk_up:function () {\r\n        if (this.user.u_point-this.points_spent>0) {\r\n          this.atk_mod+=10;\r\n          this.points_spent++;\r\n        } \r\n      },\r\n      atk_down:function () {\r\n        if (this.atk_mod!=0) {\r\n          this.atk_mod-=10;\r\n          this.points_spent--;\r\n        } \r\n      }\r\n    },\r\n    created(){\r\n    this.user=this.$store.getters.usuario;\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.perfil{\r\n  background-color: black;\r\n  height: 500px;\r\n}\r\n.ficha{\r\n  float: left;\r\n  width: 22%;\r\n  margin: 5%;\r\n  background-color: rgb(196, 193, 193);\r\n  padding: 2%;\r\n  border-radius: 4px;\r\n  box-shadow: 0px 0px 100px;\r\n}\r\n.btn-success,.btn-danger{\r\n  font-size: 8px;\r\n\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}