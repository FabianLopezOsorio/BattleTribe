{"remainingRequest":"D:\\proyecto_juego\\cliente_juego\\node_modules\\babel-loader\\lib\\index.js!D:\\proyecto_juego\\cliente_juego\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\proyecto_juego\\cliente_juego\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\proyecto_juego\\cliente_juego\\src\\components\\escenario.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\proyecto_juego\\cliente_juego\\src\\components\\escenario.vue","mtime":1590866158783},{"path":"D:\\proyecto_juego\\cliente_juego\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570243361899},{"path":"D:\\proyecto_juego\\cliente_juego\\node_modules\\babel-loader\\lib\\index.js","mtime":1570243225297},{"path":"D:\\proyecto_juego\\cliente_juego\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570243361899},{"path":"D:\\proyecto_juego\\cliente_juego\\node_modules\\vue-loader\\lib\\index.js","mtime":1570243382794}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Axios from '@/service/api';\nexport default {\n  data: function data() {\n    return {\n      user: {},\n      continente: 0,\n      square: 0,\n      war: 0,\n      arch: 0,\n      msg: \"\",\n      tiempo: 0\n    };\n  },\n  methods: {\n    enviar: function enviar() {\n      var _this = this;\n\n      if (this.war > this.user.warriors.value || this.arch > this.user.archers.value) {\n        this.msg = \"No hay suficientes tropas\";\n        setTimeout(function () {\n          _this.msg = \"\";\n        }, 3000);\n      } else if (this.square >= 2000) {\n        this.msg = \"Ubicacion desconocida\";\n        setTimeout(function () {\n          _this.msg = \"\";\n        }, 3000);\n      } else {\n        var war_send = this.war;\n        var arch_send = this.arch;\n        var square_send = this.square;\n        this.tiempo = Math.ceil(Math.abs(this.user.square - this.square) / 200) * 10000;\n        Axios().post('actions/explorar/', {\n          user_id: this.$store.getters.user_id,\n          warriors: war_send,\n          archers: arch_send,\n          square: square_send,\n          tiempo_exp: this.tiempo\n        }).then(function (docs) {\n          _this.$store.dispatch(\"storage_user\", docs.data);\n\n          _this.user = docs.data;\n          _this.msg = \"\";\n          _this.tiempo = 0;\n        });\n      }\n    },\n    getImgUrl: function getImgUrl(params) {\n      var indice = params + this.continente * 200;\n      var found = this.user.map_reveled.find(function (element) {\n        return element.cuadrado == indice;\n      });\n\n      if (found == undefined) {\n        return require('../assets/square.png');\n      } else if (found.path == '') {\n        return \"\";\n      } else {\n        return require('../assets/' + found.path);\n      }\n    },\n    ir: function ir(params) {\n      this.user = this.$store.getters.usuario;\n      var indice = params + this.continente * 200;\n      this.square = indice;\n    }\n  },\n  created: function created() {\n    this.user = this.$store.getters.usuario;\n    this.continente = Math.floor(this.user.square / 200);\n  }\n};",{"version":3,"sources":["escenario.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"map\">  \r\n    <h1 >Escenario</h1>\r\n    <div class=\"perfil\">  \r\n      <div class=\"division\">\r\n      <div class=\"card text-center bg-primary text-white mb-3\">\r\n            <div class=\"card-body\">\r\n              <h3>Tropas</h3>\r\n              <hr>\r\n              <label><strong>Warriors: </strong> {{user.warriors.value}}<br>\r\n      <img src=\"../assets/atk.png\" alt=\"...\" width=\"20px\" height=\"20px\">\r\n        :{{user.warriors.atk+user.warriors.atk*user.atk_percent/100}} <br>\r\n      <img src=\"../assets/hp.png\" alt=\"...\" width=\"20px\" height=\"20px\">\r\n        :{{user.warriors.hp+user.warriors.hp*user.hp_percent/100}}</label> \r\n      <label><strong>Archers: </strong>{{user.archers.value}} <br> \r\n        <img src=\"../assets/atk.png\" alt=\"...\" width=\"20px\" height=\"20px\">\r\n        :{{user.archers.atk+user.archers.atk*user.atk_percent/100}} <br>\r\n        <img src=\"../assets/hp.png\" alt=\"...\" width=\"20px\" height=\"20px\">\r\n        :{{user.archers.hp+user.archers.hp*user.hp_percent/100}}</label> \r\n            </div>\r\n          </div>\r\n      </div>\r\n\r\n      <div class=\"division\">\r\n        <div class=\"card bg-warning text-white mb-3\">\r\n            <div class=\"card-body\">\r\n      <h3>Continente</h3>\r\n      <hr>\r\n      <label>Actual: {{continente}}</label>\r\n      <label>Ir a:</label>\r\n      <select class=\"form-control\" v-model=\"continente\">\r\n        <option v-for=\"opt in 10\" :key=\"opt\">{{opt-1}}</option>\r\n      </select>\r\n      </div>\r\n          </div>\r\n      </div>\r\n\r\n      <div class=\"division\">\r\n        <div class=\"card bg-success text-white mb-3\">\r\n            <div class=\"card-body\">\r\n      <h3>Movimiento</h3>\r\n      <hr>\r\n      <div class=\"float-left\">\r\n      <label>Hacia:</label>  \r\n      <input type=\"number\" v-model=\"square\" class=\"form-control float-left\"> \r\n      <button @click=\"enviar\" class=\"btn btn-default float-left\">Enviar</button>\r\n      </div>  \r\n\r\n      <div class=\"float-left\">\r\n      <label>Tropas a enviar:</label>\r\n      <div class=\"float-left\">\r\n      <label>Warriors:<input type=\"number\" v-model=\"war\" class=\"form-control\"></label>\r\n      <button class=\"btn btn-light\" @click=\"war=user.warriors.value\">All</button>  \r\n      </div>  \r\n      <div class=\"float-left\">  \r\n      <label>Archers:<input type=\"number\" v-model=\"arch\" class=\"form-control\"></label> \r\n      <button class=\"btn btn-light\" @click=\"arch=user.archers.value\">All</button> \r\n      </div>\r\n      <p >{{msg}}<label v-if=\"tiempo!=0\"> {{tiempo/1000}} segundos</label></p>\r\n      </div>\r\n      </div>\r\n          </div>\r\n      </div>\r\n      \r\n    </div>\r\n\r\n    <div class=\"escenario\">\r\n       <div v-for=\"(square,index) in 200\" :key=\"square.id\" class=\"cuadrado\" @click=\"ir(index)\" :title=\"index+continente*200\">\r\n         <img :src=\"getImgUrl(index)\" alt=\"...\" width=\"40px\" height=\"40px\" class=\"imagen\" v-if=\"getImgUrl(index)\">\r\n       </div>\r\n    </div> \r\n   \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Axios from '@/service/api';\r\nexport default {\r\n  data: function() {\r\n    return {\r\n      user:{},\r\n      continente:0,\r\n      square:0,\r\n      war:0,\r\n      arch:0,\r\n      msg:\"\",\r\n      tiempo:0\r\n    };\r\n  },\r\n  methods: {\r\n    \r\n     enviar: function () {\r\n       if (this.war>this.user.warriors.value || this.arch>this.user.archers.value) {\r\n         this.msg=\"No hay suficientes tropas\";\r\n         setTimeout(() => {\r\n         this.msg=\"\";\r\n         }, 3000);\r\n       } else if(this.square>=2000){\r\n         this.msg=\"Ubicacion desconocida\";\r\n         setTimeout(() => {\r\n         this.msg=\"\";\r\n         }, 3000);\r\n       }else{\r\n         var war_send=this.war;\r\n         var arch_send=this.arch;\r\n         var square_send=this.square;\r\n         this.tiempo=(Math.ceil(Math.abs(this.user.square-this.square)/200))*10000;\r\n\r\n          Axios().post('actions/explorar/',{\r\n          user_id:this.$store.getters.user_id,\r\n          warriors:war_send,\r\n          archers:arch_send,\r\n          square:square_send,\r\n          tiempo_exp:this.tiempo        \r\n       }).then(docs=>{\r\n         this.$store.dispatch(\"storage_user\",docs.data);\r\n         this.user=docs.data; \r\n         this.msg=\"\";\r\n         this.tiempo=0;               \r\n       })        \r\n       }       \r\n     },\r\n     getImgUrl: function (params) {\r\n       var indice=params+this.continente*200;\r\n       var found = this.user.map_reveled.find(function(element) {\r\n          return element.cuadrado==indice;\r\n      });\r\n      if (found==undefined ) {\r\n        return require('../assets/square.png'); \r\n      }else if(found.path==''){\r\n        return \"\";\r\n      } else{\r\n        return require('../assets/'+found.path);\r\n      } \r\n     },\r\n     ir: function (params) {\r\n       this.user=this.$store.getters.usuario;\r\n      var indice=params+this.continente*200;\r\n       this.square=indice;\r\n     }\r\n  },\r\n  created() {\r\n    this.user=this.$store.getters.usuario; \r\n    this.continente=Math.floor(this.user.square/200); \r\n   }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh1{\r\n  color:black;\r\n  background-color:cadetblue;\r\n  padding: 10px;\r\n}\r\n.cuadrado{\r\n  height: 50px;\r\n  width: 50px;\r\n  float:left;\r\n  opacity: 1; \r\n  text-align: center;\r\n  transition: all 0.3s linear;\r\n}\r\n.escenario{\r\n  width: 1250px;\r\n  background-image: url(\"../assets/images.jpg\");\r\n  margin: 3%;\r\n}\r\n.perfil{\r\n  width: 100%;\r\n}\r\n.perfil,.escenario{\r\n  overflow: auto;\r\n  height: auto;\r\n  display: block;\r\n}\r\nhr{\r\n  margin-top: 0;\r\n}\r\nlabel{\r\n  width: 100%;\r\n}\r\n.cuadrado:hover{\r\n/* transform: scale(1.3); */\r\nbox-shadow: 0px 0px 8px 10px rgba(255, 255, 255, 0.5);\r\n/* box-shadow: 0px 0px 30px rgb(255, 255, 255); */\r\n}\r\n.division{\r\n  width: auto;\r\n  float: left;\r\n  margin-left: 4%;\r\n}\r\n.form-control{\r\n  width: 80px;\r\n}\r\n.imagen{\r\n  margin-top: 4px;\r\n}\r\n\r\n</style>"],"sourceRoot":"src/components"}]}