{"remainingRequest":"D:\\proyecto_juego\\cliente_juego\\node_modules\\babel-loader\\lib\\index.js!D:\\proyecto_juego\\cliente_juego\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\proyecto_juego\\cliente_juego\\src\\store\\store.js","dependencies":[{"path":"D:\\proyecto_juego\\cliente_juego\\src\\store\\store.js","mtime":1590769566289},{"path":"D:\\proyecto_juego\\cliente_juego\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570243361899},{"path":"D:\\proyecto_juego\\cliente_juego\\node_modules\\babel-loader\\lib\\index.js","mtime":1570243225297},{"path":"D:\\proyecto_juego\\cliente_juego\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1570243310037}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport Axios from '@/service/api';\nVue.use(Vuex);\nexport var store = new Vuex.Store({\n  state: {\n    userLogIn: false,\n    usuario: {},\n    ifMapCreated: false,\n    setIntervalId: 0\n  },\n  getters: {\n    nombre: function nombre(state) {\n      return state.usuario.name;\n    },\n    ifMapCreated: function ifMapCreated(state) {\n      return state.ifMapCreated;\n    },\n    userLogIn: function userLogIn(state) {\n      return state.userLogIn;\n    },\n    user_id: function user_id(state) {\n      return state.usuario._id;\n    },\n    level: function level(state) {\n      return state.usuario.level;\n    },\n    exp: function exp(state) {\n      return state.usuario.exp;\n    },\n    exp_next: function exp_next(state) {\n      return state.usuario.exp_next;\n    },\n    warriors: function warriors(state) {\n      return state.usuario.warriors;\n    },\n    archers: function archers(state) {\n      return state.usuario.archers;\n    },\n    money: function money(state) {\n      return state.usuario.money;\n    },\n    usuario: function usuario(state) {\n      return state.usuario;\n    }\n  },\n  mutations: {\n    logOut: function logOut(state) {\n      state.usuario = {};\n      state.userLogIn = false;\n      localStorage.setItem(\"user\", JSON.stringify(state.usuario));\n      localStorage.setItem(\"login\", JSON.stringify(state.userLogIn));\n      clearInterval(state.setIntervalId);\n    },\n    login: function login(state, data) {\n      state.usuario = data;\n      state.userLogIn = true;\n      localStorage.setItem(\"login\", JSON.stringify(state.userLogIn));\n      localStorage.setItem(\"user\", JSON.stringify(data));\n    },\n    storage: function storage(state) {\n      var data = JSON.parse(localStorage.getItem(\"user\"));\n      var login = JSON.parse(localStorage.getItem(\"login\"));\n      state.usuario = data;\n      state.userLogIn = login;\n      state.setIntervalId = setInterval(function () {\n        if (state.userLogIn) {\n          Axios().post(\"post/login/\", {\n            name: data.name,\n            password: data.password\n          }).then(function (docs) {\n            state.usuario = docs.data;\n            localStorage.setItem(\"user\", JSON.stringify(docs.data));\n          });\n        }\n      }, 10000);\n    },\n    storage_user: function storage_user(state, data) {\n      state.usuario = data; // Save user data to the current local store\n\n      localStorage.setItem(\"user\", JSON.stringify(data));\n    }\n  },\n  actions: {\n    logOut: function logOut(_ref) {\n      var commit = _ref.commit;\n      commit('logOut');\n    },\n    login: function login(_ref2, data) {\n      var commit = _ref2.commit;\n      commit('login', data);\n    },\n    storage: function storage(_ref3) {\n      var commit = _ref3.commit;\n      commit('storage');\n    },\n    storage_user: function storage_user(_ref4, data) {\n      var commit = _ref4.commit;\n      commit('storage_user', data);\n    }\n  }\n});",{"version":3,"sources":["D:\\proyecto_juego\\cliente_juego\\src\\store\\store.js"],"names":["Vue","Vuex","Axios","use","store","Store","state","userLogIn","usuario","ifMapCreated","setIntervalId","getters","nombre","name","user_id","_id","level","exp","exp_next","warriors","archers","money","mutations","logOut","localStorage","setItem","JSON","stringify","clearInterval","login","data","storage","parse","getItem","setInterval","post","password","then","docs","storage_user","actions","commit"],"mappings":"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","sourcesContent":["import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport Axios from '@/service/api';\r\n\r\nVue.use(Vuex);\r\n\r\nexport const store = new Vuex.Store({\r\n    state: {\r\n        userLogIn: false,\r\n        usuario: {},\r\n        ifMapCreated: false,\r\n        setIntervalId:0\r\n    },\r\n    getters: {\r\n        nombre(state) {\r\n            return state.usuario.name;\r\n        },\r\n        ifMapCreated(state) {\r\n            return state.ifMapCreated;\r\n        },\r\n        userLogIn(state) {\r\n            return state.userLogIn;\r\n        },\r\n        user_id(state) {\r\n            return state.usuario._id;\r\n        },\r\n        level(state) {\r\n            return state.usuario.level;\r\n        },\r\n        exp(state) {\r\n            return state.usuario.exp;\r\n        },\r\n        exp_next(state) {\r\n            return state.usuario.exp_next;\r\n        },\r\n        warriors(state) {\r\n            return state.usuario.warriors;\r\n        },\r\n        archers(state) {\r\n            return state.usuario.archers;\r\n        },\r\n        money(state) {\r\n            return state.usuario.money;\r\n        },\r\n        usuario(state) {\r\n            return state.usuario;\r\n        }\r\n    },\r\n    mutations: {\r\n        logOut: (state) => {\r\n            state.usuario = {};\r\n            state.userLogIn = false;\r\n            localStorage.setItem(\"user\", JSON.stringify(state.usuario));\r\n            localStorage.setItem(\"login\", JSON.stringify(state.userLogIn));\r\n            clearInterval(state.setIntervalId);\r\n        },\r\n        login: (state, data) => {\r\n            state.usuario = data;\r\n            state.userLogIn = true;\r\n            localStorage.setItem(\"login\", JSON.stringify(state.userLogIn));\r\n            localStorage.setItem(\"user\", JSON.stringify(data));\r\n        },\r\n        storage: (state) => {\r\n            var data = JSON.parse(localStorage.getItem(\"user\"));\r\n            var login = JSON.parse(localStorage.getItem(\"login\"));\r\n\r\n            state.usuario = data;\r\n            state.userLogIn = login;\r\n            \r\n               state.setIntervalId= setInterval(()=>{  \r\n                if (state.userLogIn) {              \r\n                     Axios().post(\"post/login/\",{\r\n                        name:data.name,\r\n                        password:data.password\r\n                     }).then(docs=>{\r\n                        state.usuario = docs.data;\r\n                        localStorage.setItem(\"user\", JSON.stringify(docs.data));\r\n                     });  \r\n                    } \r\n                },10000);              \r\n        },\r\n        storage_user: (state, data) => {\r\n            state.usuario = data;\r\n            // Save user data to the current local store\r\n            localStorage.setItem(\"user\", JSON.stringify(data));\r\n        }\r\n    },\r\n    actions: {\r\n        logOut: ({ commit }) => {\r\n            commit('logOut');\r\n        },\r\n        login: ({ commit }, data) => {\r\n            commit('login', data);\r\n        },\r\n        storage: ({ commit }) => {\r\n            commit('storage');\r\n        },\r\n        storage_user: ({ commit }, data) => {\r\n            commit('storage_user', data);\r\n        }\r\n    }\r\n});"]}]}