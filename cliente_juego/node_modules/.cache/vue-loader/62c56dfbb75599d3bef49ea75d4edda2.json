{"remainingRequest":"C:\\Users\\Fabian\\Documents\\proyecto_juego\\cliente_juego\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Fabian\\Documents\\proyecto_juego\\cliente_juego\\src\\components\\perfil.vue?vue&type=style&index=0&id=38d32448&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Fabian\\Documents\\proyecto_juego\\cliente_juego\\src\\components\\perfil.vue","mtime":1589976421917},{"path":"C:\\Users\\Fabian\\Documents\\proyecto_juego\\cliente_juego\\node_modules\\css-loader\\index.js","mtime":1570243374572},{"path":"C:\\Users\\Fabian\\Documents\\proyecto_juego\\cliente_juego\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1570243382794},{"path":"C:\\Users\\Fabian\\Documents\\proyecto_juego\\cliente_juego\\node_modules\\postcss-loader\\src\\index.js","mtime":1570243378192},{"path":"C:\\Users\\Fabian\\Documents\\proyecto_juego\\cliente_juego\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1570243361899},{"path":"C:\\Users\\Fabian\\Documents\\proyecto_juego\\cliente_juego\\node_modules\\vue-loader\\lib\\index.js","mtime":1570243382794}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.perfil{\r\n  background-color: black;\r\n  height: 500px;\r\n}\r\n.ficha{\r\n  float: left;\r\n  width: 22%;\r\n  margin: 5%;\r\n  background-color: rgb(196, 193, 193);\r\n  padding: 2%;\r\n  border-radius: 4px;\r\n  box-shadow: 0px 0px 100px;\r\n}\r\n.btn-success,.btn-danger{\r\n  font-size: 8px;\r\n\r\n}\r\n",{"version":3,"sources":["perfil.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"perfil.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<div class=\"perfil\">\r\n    <div class=\"ficha\">\r\n      <img src=\"../assets/town.png\" alt=\"...\" >\r\n      <h4>{{user.name}}</h4>\r\n      <label>Level: {{user.level}}</label><br> \r\n      <label>Exp: {{user.exp}}/{{user.exp_next}}</label> <br> \r\n      <label>Money: {{user.money}}</label> <br> \r\n      <label>Square: {{user.square}}</label> <br> \r\n    </div>\r\n\r\n    <div class=\"ficha\">\r\n      <h2>Recruitmen</h2>\r\n      <label>Warriors: <input type=\"number\" v-model=\"warriors\"></label><br>\r\n      <label>Archers: <input type=\"number\" v-model=\"archers\"></label><br>\r\n      <label>Total: {{total}}</label><br>\r\n      <button @click=\"recruit\" class=\"btn btn-primary\">Recruit</button>\r\n      <label>{{msj}}</label><br>\r\n    </div>\r\n\r\n    <div class=\"ficha\">\r\n      <h2>Upgrade</h2>\r\n      <h4>Points remaining: {{user.u_point-points_spent}}</h4>\r\n      <h4>Soldiers HP + {{user.hp_percent+hp_mod}} % <button @click=\"hp_up\" class=\"btn btn-success\">+</button><button @click=\"hp_down\" class=\"btn btn-danger\"> -</button></h4>\r\n      <h4>Soldiers ATK + {{user.atk_percent+atk_mod}} % <button @click=\"atk_up\" class=\"btn btn-success\">+</button><button @click=\"atk_down\" class=\"btn btn-danger\"> -</button> </h4>\r\n      <button @click=\"upgrade\" class=\"btn btn-primary\">OK</button>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Axios from '@/service/api';\r\nexport default {\r\n    data:function () {\r\n    return{\r\n      user:{},\r\n      warriors:0,\r\n      archers:0,\r\n      hp_mod:0,\r\n      atk_mod:0,\r\n      points_spent:0,\r\n      msj:\"\"\r\n    };\r\n    },\r\n    computed:{\r\n      total:function () {\r\n        return this.warriors*10+this.archers*10\r\n      }\r\n    },\r\n    methods:{\r\n      recruit: function () {\r\n        var money_spent=this.warriors*10+this.archers*10;\r\n        if (money_spent>this.user.money) {\r\n          this.msj=\"El dinero no alcanza\";\r\n          setTimeout(() => {\r\n           this.msj=\"\";\r\n         }, 3000); \r\n        } else {\r\n         \r\n            Axios().post(\"post/recruit/\",{\r\n            user_id:this.user._id,\r\n            warriors:this.warriors,\r\n            archers:this.archers,\r\n            dinero:money_spent\r\n          }).then(docs=>{\r\n         this.$store.dispatch(\"storage_user\",docs.data);\r\n         this.user=docs.data; \r\n         this.msj=\"Reclutamiento completado\"; \r\n         setTimeout(() => {\r\n           this.msj=\"\";\r\n         }, 3000);        \r\n       }) }\r\n      },\r\n      upgrade: function () {\r\n        if (this.points_spent!=0) {\r\n          Axios().post(\"post/upgrade/\",{\r\n            user_id:this.user._id,\r\n            hp_mod:this.hp_mod,\r\n            atk_mod:this.atk_mod,\r\n            points_spent:this.points_spent\r\n          }).then(docs=>{\r\n            this.hp_mod=0;\r\n            this.atk_mod=0;\r\n            this.points_spent=0;\r\n         this.$store.dispatch(\"storage_user\",docs.data);\r\n         this.user=docs.data;         \r\n       })\r\n        }\r\n      },\r\n      hp_up:function () {\r\n        if (this.user.u_point-this.points_spent>0) {\r\n          this.hp_mod+=10;\r\n          this.points_spent++;\r\n        } \r\n      },\r\n      hp_down:function () {\r\n        if (this.hp_mod!=0) {\r\n          this.hp_mod-=10;\r\n          this.points_spent--;\r\n        } \r\n      },\r\n      atk_up:function () {\r\n        if (this.user.u_point-this.points_spent>0) {\r\n          this.atk_mod+=10;\r\n          this.points_spent++;\r\n        } \r\n      },\r\n      atk_down:function () {\r\n        if (this.atk_mod!=0) {\r\n          this.atk_mod-=10;\r\n          this.points_spent--;\r\n        } \r\n      }\r\n    },\r\n    created(){\r\n    this.user=this.$store.getters.usuario;\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.perfil{\r\n  background-color: black;\r\n  height: 500px;\r\n}\r\n.ficha{\r\n  float: left;\r\n  width: 22%;\r\n  margin: 5%;\r\n  background-color: rgb(196, 193, 193);\r\n  padding: 2%;\r\n  border-radius: 4px;\r\n  box-shadow: 0px 0px 100px;\r\n}\r\n.btn-success,.btn-danger{\r\n  font-size: 8px;\r\n\r\n}\r\n</style>"]}]}